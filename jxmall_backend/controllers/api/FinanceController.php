<?php
/**
 * @link:http://www.dujxmall.com/
 * @copyright: Copyright (c) 2020 广州动力宇宙信息科技
 * Created by PhpStorm
 * Author: ganxiaohao
 * Date: 2020-11-17
 * Time: 15:28
 */

namespace app\controllers\api;


use app\controllers\api\filters\LoginFilter;
use app\forms\api\finance\BalanceLogListForm;
use app\forms\api\finance\BalanceTransferForm;
use app\forms\api\finance\IntegralLogListForm;
use app\forms\api\finance\PriceLogListForm;

class FinanceController extends Controller
{
    public function behaviors()
    {
        return array_merge(parent::behaviors(),
            ['login' => ['class' => LoginFilter::class]]
        ); // TODO: Change the autogenerated stub
    }

    /**
     * Created by: ganxh
     * Date: 2022/1/20
     * Time: 13:52
     * Note:积分记录
     * @return \yii\web\Response
     */
    public function actionIntegralLog()
    {
        $form = new IntegralLogListForm();
        $form->attributes = $this->request->get();
        return $this->asJson($form->getList());
    }

    /**
     * Created by: ganxh
     * Date: 2022/1/20
     * Time: 13:52
     * Note:余额记录
     * @return \yii\web\Response
     */
    public function actionBalanceLog()
    {
        $form = new BalanceLogListForm();
        $form->attributes = $this->request->get();
        return $this->asJson($form->getList());
    }

    /**
     * Created by PhpStorm.
     * User：ganxi
     * Date：2021/12/18
     * Time：9:59
     * Note：余额转赠
     */
    public function actionBalanceTransfer()
    {
        $form = new BalanceTransferForm();
        $form->attributes = $this->request->post();
        return $this->asJson($form->transfer());
    }
    /**
     * @Author: 动力宇宙 ganxiaohao
     * @Date: 2020-12-21
     * @Time: 23:09
     * @Note:佣金记录
     * @return \yii\web\Response
     */
    public function actionPriceLog()
    {
        $form = new PriceLogListForm();
        $form->attributes = $this->request->get();
        return $this->asJson($form->getList());

    }
}
